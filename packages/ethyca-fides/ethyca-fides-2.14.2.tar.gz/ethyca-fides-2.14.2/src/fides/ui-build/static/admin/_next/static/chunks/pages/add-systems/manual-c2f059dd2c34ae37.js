(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8012],{46213:function(e,t,r){"use strict";r.d(t,{Ee:function(){return f}});var n=r(32393),o=r(14007),a=r(27378),s=r(16962);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var l=["htmlWidth","htmlHeight","alt"],u=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin"],d=a.forwardRef((function(e,t){var r=e.htmlWidth,n=e.htmlHeight,o=e.alt,s=c(e,l);return a.createElement("img",i({width:r,height:n,ref:t,alt:o},s))})),f=(0,n.Gp)((function(e,t){var r=e.fallbackSrc,l=e.fallback,f=e.src,h=e.srcSet,m=e.align,y=e.fit,p=e.loading,g=e.ignoreFallback,x=e.crossOrigin,b=c(e,u),j=null!=p||g||void 0===r&&void 0===l,v=function(e){var t=e.loading,r=e.src,n=e.srcSet,o=e.onLoad,i=e.onError,c=e.crossOrigin,l=e.sizes,u=e.ignoreFallback,d=(0,a.useState)("pending"),f=d[0],h=d[1];(0,a.useEffect)((function(){h(r?"loading":"pending")}),[r]);var m=(0,a.useRef)(),y=(0,a.useCallback)((function(){if(r){p();var e=new Image;e.src=r,c&&(e.crossOrigin=c),n&&(e.srcset=n),l&&(e.sizes=l),t&&(e.loading=t),e.onload=function(e){p(),h("loaded"),null==o||o(e)},e.onerror=function(e){p(),h("failed"),null==i||i(e)},m.current=e}}),[r,c,n,l,o,i,t]),p=function(){m.current&&(m.current.onload=null,m.current.onerror=null,m.current=null)};return(0,s.a)((function(){if(!u)return"loading"===f&&y(),function(){p()}}),[f,y,u]),u?"loaded":f}(i({},e,{ignoreFallback:j})),w=i({ref:t,objectFit:y,objectPosition:m},j?b:(0,o.CE)(b,["onError","onLoad"]));return"loaded"!==v?l||a.createElement(n.m$.img,i({as:d,className:"chakra-image__placeholder",src:r},w)):a.createElement(n.m$.img,i({as:d,src:f,srcSet:h,crossOrigin:x,loading:p,className:"chakra-image"},w))}));o.Ts&&(f.displayName="Image")},43890:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(90849),o=r(97865),a=r(73679),s=r(90089),i=r(46213),c=(r(27378),r(21023)),l=r(77986),u=function(e){return void 0!==e.connection_type},d=function(e){return void 0!==e.encoded_icon},f=r(24246),h=["data"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var y=function(e){var t=e.data,r=(0,s.Z)(e,h);return(0,f.jsx)(i.Ee,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({boxSize:"32px",objectFit:"cover",src:function(){if(d(t)&&t.encoded_icon)return"data:image/svg+xml;base64,".concat(t.encoded_icon);var e;if(u(t))e=(0,a.Z)(l.iW).find((function(e){var r,n,a=(0,o.Z)(e,1)[0];return t.connection_type.toString()!==c.Rj.SAAS&&t.connection_type.toString()===a||t.connection_type.toString()===c.Rj.SAAS&&(null===(r=t.saas_config)||void 0===r||null===(n=r.type)||void 0===n?void 0:n.toString())===a.toString()}));else if(d(t)){var r=t.identifier;e=(0,a.Z)(l.iW).find((function(e){return(0,o.Z)(e,1)[0].toLowerCase()===r.toLowerCase()}))}return e?l.Ny+e[1]:l.VD}(),fallbackSrc:l.VD,alt:u(t)?t.name:d(t)?t.human_readable:t},r))}},43673:function(e,t,r){"use strict";var n=r(34896),o=r(43890),a=r(79894),s=r.n(a),i=(r(27378),r(24246));t.Z=function(e){var t=e.items;return(0,i.jsx)(n.MI,{columns:4,spacingX:"16px",spacingY:"16px",children:t.map((function(e){return(0,i.jsx)(s(),{href:{pathname:window.location.pathname,query:{step:2,connectorType:JSON.stringify(e)}},passHref:!0,children:(0,i.jsx)(n.xu,{boxShadow:"base",borderRadius:"5px",maxWidth:"331px",overflow:"hidden",_hover:{boxShadow:"lg",cursor:"pointer"},"data-testid":"".concat(e.identifier,"-item"),children:(0,i.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",pl:"24px",color:"gray.700",fontSize:"14px",fontStyle:"normal",fontWeight:"600",lineHeight:"20px",h:"80px",children:[(0,i.jsx)(o.Z,{data:e}),(0,i.jsx)(n.xv,{ml:"12px",children:e.human_readable})]})})},e.identifier)}))})}},57865:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(34896),o=r(24487),a=r(79894),s=r.n(a),i=r(86677),c=r(27378),l=r(12187),u=r(51471),d=r(60709),f=r(43890),h=r(83125),m=r(5008),y=r(29549),p=r(44845),g=r(86700),x=r(43673),b=r(24246),j=function(){var e=(0,c.useState)(""),t=e[0],r=e[1],o=(0,g.$I)({}),a=o.data,i=o.isLoading,l=(0,c.useMemo)((function(){return a?a.items.filter((function(e){return n=t,(r=e).human_readable.toLocaleLowerCase().includes(n.toLocaleLowerCase())||r.identifier.toLocaleLowerCase().includes(n.toLocaleLowerCase());var r,n})):[]}),[a,t]);if(i)return(0,b.jsx)(h.$,{});if(!a)return(0,b.jsx)(n.xv,{children:"Could not find system types, please try again."});var u=a.items.length>0&&t.length>0&&0===l.length;return(0,b.jsxs)(n.xu,{children:[(0,b.jsxs)(n.xu,{mb:4,display:"flex",justifyContent:"space-between",children:[(0,b.jsx)(n.xu,{children:(0,b.jsx)(p.Z,{search:t,onChange:r,placeholder:"Search for a system","data-testid":"system-catalog-search",onClear:function(){return r("")}})}),(0,b.jsxs)(n.kC,{alignItems:"center",children:[u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.PT,{mr:1,color:"gray.400"}),(0,b.jsx)(n.xv,{fontSize:"sm",color:"gray.700",mr:2,"data-testid":"no-systems-found",children:"No systems found"})]}):null,(0,b.jsx)(s(),{href:{pathname:window.location.pathname,query:{step:2}},passHref:!0,children:(0,b.jsx)(y.zx,{variant:u?"solid":"outline",colorScheme:u?"primary":void 0,size:"sm","data-testid":"create-system-btn",children:"Create system"})})]})]}),(0,b.jsx)(x.Z,{items:l})]})},v=r(16267),w=function(e){var t=e.step,r=e.connector;return"choose-system"===t?(0,b.jsx)(n.X6,{fontSize:"2xl",fontWeight:"semibold",mb:2,"data-testid":"header",children:"Choose a type of system"}):(0,b.jsxs)(n.xu,{display:"flex",mb:2,alignItems:"center","data-testid":"header",children:[(0,b.jsx)(f.Z,{data:null!==r&&void 0!==r?r:"ethyca",mr:2}),(0,b.jsxs)(n.X6,{fontSize:"2xl",fontWeight:"semibold",children:["Describe your ",r?r.human_readable:"new"," system"]})]})},S=function(){var e=(0,l.V)().systemOrDatamapRoute,t=(0,i.useRouter)().query,r=t.step,a=t.connectorType,f="2"===r?"describe-system":"choose-system",h=(0,c.useMemo)((function(){if(a){var e=Array.isArray(a)?a[0]:a;return JSON.parse(e)}}),[a]);return(0,b.jsxs)(u.Z,{title:"Choose a system type",children:[(0,b.jsxs)(n.xu,{mb:4,children:[(0,b.jsx)(w,{step:f,connector:h}),(0,b.jsx)(n.xu,{children:(0,b.jsxs)(o.aG,{fontWeight:"medium",fontSize:"sm",color:"gray.600","data-testid":"breadcrumbs",children:[(0,b.jsx)(o.gN,{children:(0,b.jsx)(s(),{href:e,children:"Data map"})}),(0,b.jsx)(o.gN,{children:(0,b.jsx)(s(),{href:d.xo,children:"Add systems"})}),(0,b.jsx)(o.gN,{color:"choose-system"===f?"complimentary.500":void 0,children:(0,b.jsx)(s(),{href:d.N5,children:"Choose your system"})}),"describe-system"===f?(0,b.jsx)(o.gN,{color:"complimentary.500",children:(0,b.jsx)(s(),{href:"#",children:"Describe your system"})}):null]})})]}),(0,b.jsxs)(n.xu,{w:{base:"100%",md:"75%"},children:[(0,b.jsx)(n.xv,{fontSize:"sm",mb:8,children:"choose-system"===f?"Systems are anything that might store or process data in your organization, from a web application, to a database or data warehouse. Pick from common system types below or create a new type of system to get started.":"Systems are anything that might store or process data in your organization, from a web application, to a database or data warehouse. Describe your system below to register it to the map. You may optionally complete data entry for the system using the additional tabs to navigate the sections."}),"choose-system"===f?(0,b.jsx)(j,{}):(0,b.jsx)(v.Z,{isCreate:!0})]})]})}},43376:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-systems/manual",function(){return r(57865)}])}},function(e){e.O(0,[2141,5527,8301,6155,4196,8849,3238,9,3119,2321,759,9774,2888,179],(function(){return t=43376,e(e.s=t);var t}));var t=e.O();_N_E=t}]);