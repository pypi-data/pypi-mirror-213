"use strict";(self.webpackChunkjupyter_theme_editor=self.webpackChunkjupyter_theme_editor||[]).push([[351],{3351:(t,e,n)=>{function i(t,e,n){return isNaN(t)||t<=e?e:t>=n?n:t}function r(t,e,n){return isNaN(t)||t<=e?0:t>=n?1:t/(n-e)}function o(t,e,n){return isNaN(t)?e:e+t*(n-e)}function s(t){return t*(Math.PI/180)}function a(t){return t*(180/Math.PI)}function l(t){const e=Math.round(i(t,0,255)).toString(16);return 1===e.length?"0"+e:e}function h(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:e+t*(n-e)}function u(t,e,n){if(t<=0)return e%360;if(t>=1)return n%360;const i=(e-n+360)%360;return i<=(n-e+360)%360?(e-i*t+360)%360:(e+i*t+360)%360}n.r(e),n.d(e,{ColorBlendMode:()=>lt,ColorHSL:()=>m,ColorHSV:()=>f,ColorInterpolationSpace:()=>ht,ColorLAB:()=>d,ColorLCH:()=>p,ColorPalette:()=>Tt,ColorRGBA64:()=>w,ColorScale:()=>xt,ColorXYZ:()=>x,ComponentStateColorPalette:()=>Jt,Histogram:()=>Xt,ImageDataPixelBlob:()=>ne,PixelBox:()=>Yt,blend:()=>ut,blendBurn:()=>Z,blendBurnChannel:()=>Y,blendColor:()=>_,blendDarken:()=>Q,blendDarkenChannel:()=>F,blendDodge:()=>K,blendDodgeChannel:()=>J,blendLighten:()=>et,blendLightenChannel:()=>tt,blendMultiply:()=>it,blendMultiplyChannel:()=>nt,blendOverlay:()=>ot,blendOverlayChannel:()=>rt,blendScreen:()=>at,blendScreenChannel:()=>st,calculateOverlayColor:()=>S,centeredRescale:()=>Et,clamp:()=>i,computeAlphaBlend:()=>gt,contrastRatio:()=>R,darkenViaLAB:()=>X,defaultCenteredRescaleConfig:()=>Wt,defaultPaletteExtractionConfig:()=>Kt,defaultQuantizeConfig:()=>_t,degreesToRadians:()=>s,denormalize:()=>o,desaturateViaLCH:()=>$,extractPalette:()=>te,generateOffCenterPalette:()=>It,generateScaledPalettes:()=>$t,getHexStringForByte:()=>l,hslToRGB:()=>k,hsvToRGB:()=>P,insertIntoSortedList:()=>Ut,interpolateByColorSpace:()=>wt,interpolateHSL:()=>bt,interpolateHSV:()=>mt,interpolateLAB:()=>dt,interpolateLCH:()=>pt,interpolateRGB:()=>ct,interpolateXYZ:()=>ft,isColorNamed:()=>Pt,isColorStringHexARGB:()=>St,isColorStringHexRGB:()=>Mt,isColorStringHexRGBA:()=>Lt,isColorStringWebRGB:()=>kt,isColorStringWebRGBA:()=>Nt,labToLCH:()=>H,labToRGB:()=>T,labToXYZ:()=>A,lchToLAB:()=>v,lchToRGB:()=>I,lerp:()=>h,lerpAnglesInDegrees:()=>u,lerpAnglesInRadians:()=>c,lightenViaLAB:()=>U,loadImageData:()=>ee,matchLightnessIndex:()=>jt,normalize:()=>r,parseColor:()=>Ot,parseColorHexARGB:()=>Ht,parseColorHexRGB:()=>vt,parseColorHexRGBA:()=>At,parseColorNamed:()=>Dt,parseColorWebRGB:()=>Vt,parseColorWebRGBA:()=>zt,quantize:()=>Qt,quantizeHistogram:()=>Ft,radiansToDegrees:()=>a,rescale:()=>qt,rgbToHSL:()=>L,rgbToHSV:()=>N,rgbToLAB:()=>O,rgbToLCH:()=>j,rgbToLinearLuminance:()=>C,rgbToRelativeLuminance:()=>y,rgbToTemperature:()=>W,rgbToXYZ:()=>z,roundToPrecisionSmall:()=>b,saturateViaLCH:()=>E,temperatureToRGB:()=>q,xyzToLAB:()=>V,xyzToRGB:()=>D});const g=2*Math.PI;function c(t,e,n){if(isNaN(t)||t<=0)return e%g;if(t>=1)return n%g;const i=(e-n+g)%g;return i<=(n-e+g)%g?(e-i*t+g)%g:(e+i*t+g)%g}function b(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}class m{constructor(t,e,n){this.h=t,this.s=e,this.l=n}static fromObject(t){return!t||isNaN(t.h)||isNaN(t.s)||isNaN(t.l)?null:new m(t.h,t.s,t.l)}equalValue(t){return this.h===t.h&&this.s===t.s&&this.l===t.l}roundToPrecision(t){return new m(b(this.h,t),b(this.s,t),b(this.l,t))}toObject(){return{h:this.h,s:this.s,l:this.l}}}class f{constructor(t,e,n){this.h=t,this.s=e,this.v=n}static fromObject(t){return!t||isNaN(t.h)||isNaN(t.s)||isNaN(t.v)?null:new f(t.h,t.s,t.v)}equalValue(t){return this.h===t.h&&this.s===t.s&&this.v===t.v}roundToPrecision(t){return new f(b(this.h,t),b(this.s,t),b(this.v,t))}toObject(){return{h:this.h,s:this.s,v:this.v}}}class d{constructor(t,e,n){this.l=t,this.a=e,this.b=n}static fromObject(t){return!t||isNaN(t.l)||isNaN(t.a)||isNaN(t.b)?null:new d(t.l,t.a,t.b)}equalValue(t){return this.l===t.l&&this.a===t.a&&this.b===t.b}roundToPrecision(t){return new d(b(this.l,t),b(this.a,t),b(this.b,t))}toObject(){return{l:this.l,a:this.a,b:this.b}}}d.epsilon=216/24389,d.kappa=24389/27;class p{constructor(t,e,n){this.l=t,this.c=e,this.h=n}static fromObject(t){return!t||isNaN(t.l)||isNaN(t.c)||isNaN(t.h)?null:new p(t.l,t.c,t.h)}equalValue(t){return this.l===t.l&&this.c===t.c&&this.h===t.h}roundToPrecision(t){return new p(b(this.l,t),b(this.c,t),b(this.h,t))}toObject(){return{l:this.l,c:this.c,h:this.h}}}class w{constructor(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a="number"!=typeof i||isNaN(i)?1:i}static fromObject(t){return!t||isNaN(t.r)||isNaN(t.g)||isNaN(t.b)?null:new w(t.r,t.g,t.b,t.a)}equalValue(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round(o(this.r,0,255))},${Math.round(o(this.g,0,255))},${Math.round(o(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round(o(this.r,0,255))},${Math.round(o(this.g,0,255))},${Math.round(o(this.b,0,255))},${i(this.a,0,1)})`}roundToPrecision(t){return new w(b(this.r,t),b(this.g,t),b(this.b,t),b(this.a,t))}clamp(){return new w(i(this.r,0,1),i(this.g,0,1),i(this.b,0,1),i(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(t){return l(o(t,0,255))}}class x{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromObject(t){return!t||isNaN(t.x)||isNaN(t.y)||isNaN(t.z)?null:new x(t.x,t.y,t.z)}equalValue(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}roundToPrecision(t){return new x(b(this.x,t),b(this.y,t),b(this.z,t))}toObject(){return{x:this.x,y:this.y,z:this.z}}}function C(t){return.2126*t.r+.7152*t.g+.0722*t.b}function y(t){function e(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return C(new w(e(t.r),e(t.g),e(t.b),1))}x.whitePoint=new x(.95047,1,1.08883);const B=(t,e)=>(t+.05)/(e+.05);function R(t,e){const n=y(t),i=y(e);return n>i?B(n,i):B(i,n)}function G(t,e,n){return n-e==0?0:(t-e)/(n-e)}function M(t,e,n){return(G(t.r,e.r,n.r)+G(t.g,e.g,n.g)+G(t.b,e.b,n.b))/3}function S(t,e,n=null){let i=0,r=n;return null!==r?i=M(t,e,r):(r=new w(0,0,0,1),i=M(t,e,r),i<=0&&(r=new w(1,1,1,1),i=M(t,e,r))),i=Math.round(1e3*i)/1e3,new w(r.r,r.g,r.b,i)}function L(t){const e=Math.max(t.r,t.g,t.b),n=Math.min(t.r,t.g,t.b),i=e-n;let r=0;0!==i&&(r=e===t.r?(t.g-t.b)/i%6*60:e===t.g?60*((t.b-t.r)/i+2):60*((t.r-t.g)/i+4)),r<0&&(r+=360);const o=(e+n)/2;let s=0;return 0!==i&&(s=i/(1-Math.abs(2*o-1))),new m(r,s,o)}function k(t,e=1){const n=(1-Math.abs(2*t.l-1))*t.s,i=n*(1-Math.abs(t.h/60%2-1)),r=t.l-n/2;let o=0,s=0,a=0;return t.h<60?(o=n,s=i,a=0):t.h<120?(o=i,s=n,a=0):t.h<180?(o=0,s=n,a=i):t.h<240?(o=0,s=i,a=n):t.h<300?(o=i,s=0,a=n):t.h<360&&(o=n,s=0,a=i),new w(o+r,s+r,a+r,e)}function N(t){const e=Math.max(t.r,t.g,t.b),n=e-Math.min(t.r,t.g,t.b);let i=0;0!==n&&(i=e===t.r?(t.g-t.b)/n%6*60:e===t.g?60*((t.b-t.r)/n+2):60*((t.r-t.g)/n+4)),i<0&&(i+=360);let r=0;return 0!==e&&(r=n/e),new f(i,r,e)}function P(t,e=1){const n=t.s*t.v,i=n*(1-Math.abs(t.h/60%2-1)),r=t.v-n;let o=0,s=0,a=0;return t.h<60?(o=n,s=i,a=0):t.h<120?(o=i,s=n,a=0):t.h<180?(o=0,s=n,a=i):t.h<240?(o=0,s=i,a=n):t.h<300?(o=i,s=0,a=n):t.h<360&&(o=n,s=0,a=i),new w(o+r,s+r,a+r,e)}function v(t){let e=0,n=0;return 0!==t.h&&(e=Math.cos(s(t.h))*t.c,n=Math.sin(s(t.h))*t.c),new d(t.l,e,n)}function H(t){let e=0;(Math.abs(t.b)>.001||Math.abs(t.a)>.001)&&(e=a(Math.atan2(t.b,t.a))),e<0&&(e+=360);const n=Math.sqrt(t.a*t.a+t.b*t.b);return new p(t.l,n,e)}function A(t){const e=(t.l+16)/116,n=e+t.a/500,i=e-t.b/200,r=Math.pow(n,3),o=Math.pow(e,3),s=Math.pow(i,3);let a=0;a=r>d.epsilon?r:(116*n-16)/d.kappa;let l=0;l=t.l>d.epsilon*d.kappa?o:t.l/d.kappa;let h=0;return h=s>d.epsilon?s:(116*i-16)/d.kappa,a=x.whitePoint.x*a,l=x.whitePoint.y*l,h=x.whitePoint.z*h,new x(a,l,h)}function V(t){function e(t){return t>d.epsilon?Math.pow(t,1/3):(d.kappa*t+16)/116}const n=e(t.x/x.whitePoint.x),i=e(t.y/x.whitePoint.y),r=e(t.z/x.whitePoint.z);return new d(116*i-16,500*(n-i),200*(i-r))}function z(t){function e(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}const n=e(t.r),i=e(t.g),r=e(t.b);return new x(.4124564*n+.3575761*i+.1804375*r,.2126729*n+.7151522*i+.072175*r,.0193339*n+.119192*i+.9503041*r)}function D(t,e=1){function n(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}const i=n(3.2404542*t.x-1.5371385*t.y-.4985314*t.z),r=n(-.969266*t.x+1.8760108*t.y+.041556*t.z),o=n(.0556434*t.x-.2040259*t.y+1.0572252*t.z);return new w(i,r,o,e)}function O(t){return V(z(t))}function T(t,e=1){return D(A(t),e)}function j(t){return H(O(t))}function I(t,e=1){return T(v(t),e)}function q(t,e=1){let n=0,i=0,r=0;return t<=1e3?t=1e3:t>=4e4&&(t=4e4),t<6600?(n=255,i=t/100-2,i=-155.25485562709179-.44596950469579133*i+104.49216199393888*Math.log(i)):(n=t/100-55,n=351.97690566805693+.114206453784165*n-40.25366309332127*Math.log(n),i=t/100-50,i=325.4494125711974+.07943456536662342*i-28.0852963507957*Math.log(i)),t>=6600?r=255:t<2e3?r=0:(r=t/100-10,r=.8274096064007395*r-254.76935184120902+115.67994401066147*Math.log(r)),new w(n/255,i/255,r/255,e)}function W(t){let e=0,n=1e3,i=4e4;for(;i-n>.4;){e=(i+n)/2;const r=q(e);r.b/r.r>=t.b/t.r?i=e:n=e}return Math.round(e)}function E(t,e,n=18){const i=j(t);let r=i.c+e*n;return r<0&&(r=0),I(new p(i.l,r,i.h))}function $(t,e,n=18){return E(t,-1*e,n)}function X(t,e,n=18){const i=O(t),r=i.l-e*n;return T(new d(r,i.a,i.b))}function U(t,e,n=18){return X(t,-1*e,n)}function Y(t,e){return 0===e?0:1-(1-t)/e}function Z(t,e){return new w(Y(t.r,e.r),Y(t.g,e.g),Y(t.b,e.b),1)}function _(t,e){const n=L(t),i=L(e);return 0===i.s?new w(n.l,n.l,n.l,1):k(new m(i.h,i.s,n.l))}function F(t,e){return Math.min(t,e)}function Q(t,e){return new w(F(t.r,e.r),F(t.g,e.g),F(t.b,e.b),1)}function J(t,e){if(e>=1)return 1;const n=t/(1-e);return n>=1?1:n}function K(t,e){return new w(J(t.r,e.r),J(t.g,e.g),J(t.b,e.b),1)}function tt(t,e){return Math.max(t,e)}function et(t,e){return new w(tt(t.r,e.r),tt(t.g,e.g),tt(t.b,e.b),1)}function nt(t,e){return t*e}function it(t,e){return new w(nt(t.r,e.r),nt(t.g,e.g),nt(t.b,e.b),1)}function rt(t,e){return i(t<.5?2*e*t:1-2*(1-e)*(1-t),0,1)}function ot(t,e){return new w(rt(t.r,e.r),rt(t.g,e.g),rt(t.b,e.b),1)}function st(t,e){return 1-(1-e)*(1-t)}function at(t,e){return new w(st(t.r,e.r),st(t.g,e.g),st(t.b,e.b),1)}var lt,ht;function ut(t,e,n){switch(t){case lt.Burn:return Z(e,n);case lt.Color:return _(e,n);case lt.Darken:return Q(e,n);case lt.Dodge:return K(e,n);case lt.Lighten:return et(e,n);case lt.Multiply:return it(e,n);case lt.Overlay:return ot(e,n);case lt.Screen:return at(e,n);default:throw new Error("Unknown blend mode")}}function gt(t,e){if(e.a>=1)return e;if(e.a<=0)return new w(t.r,t.g,t.b,1);const n=e.a*e.r+(1-e.a)*t.r,i=e.a*e.g+(1-e.a)*t.g,r=e.a*e.b+(1-e.a)*t.b;return new w(n,i,r,1)}function ct(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new w(h(t,e.r,n.r),h(t,e.g,n.g),h(t,e.b,n.b),h(t,e.a,n.a))}function bt(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new m(u(t,e.h,n.h),h(t,e.s,n.s),h(t,e.l,n.l))}function mt(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new f(u(t,e.h,n.h),h(t,e.s,n.s),h(t,e.v,n.v))}function ft(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new x(h(t,e.x,n.x),h(t,e.y,n.y),h(t,e.z,n.z))}function dt(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new d(h(t,e.l,n.l),h(t,e.a,n.a),h(t,e.b,n.b))}function pt(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new p(h(t,e.l,n.l),h(t,e.c,n.c),u(t,e.h,n.h))}function wt(t,e,n,i){if(isNaN(t)||t<=0)return n;if(t>=1)return i;switch(e){case ht.HSL:return k(bt(t,L(n),L(i)));case ht.HSV:return P(mt(t,N(n),N(i)));case ht.XYZ:return D(ft(t,z(n),z(i)));case ht.LAB:return T(dt(t,O(n),O(i)));case ht.LCH:return I(pt(t,j(n),j(i)));default:return ct(t,n,i)}}!function(t){t[t.Burn=0]="Burn",t[t.Color=1]="Color",t[t.Darken=2]="Darken",t[t.Dodge=3]="Dodge",t[t.Lighten=4]="Lighten",t[t.Multiply=5]="Multiply",t[t.Overlay=6]="Overlay",t[t.Screen=7]="Screen"}(lt||(lt={})),function(t){t[t.RGB=0]="RGB",t[t.HSL=1]="HSL",t[t.HSV=2]="HSV",t[t.XYZ=3]="XYZ",t[t.LAB=4]="LAB",t[t.LCH=5]="LCH"}(ht||(ht={}));class xt{constructor(t){if(null==t||0===t.length)throw new Error("The stops argument must be non-empty");this.stops=this.sortColorScaleStops(t)}static createBalancedColorScale(t){if(null==t||0===t.length)throw new Error("The colors argument must be non-empty");const e=new Array(t.length);for(let n=0;n<t.length;n++)0===n?e[n]={color:t[n],position:0}:n===t.length-1?e[n]={color:t[n],position:1}:e[n]={color:t[n],position:n*(1/(t.length-1))};return new xt(e)}getColor(t,e=ht.RGB){if(1===this.stops.length)return this.stops[0].color;if(t<=0)return this.stops[0].color;if(t>=1)return this.stops[this.stops.length-1].color;let n=0;for(let e=0;e<this.stops.length;e++)this.stops[e].position<=t&&(n=e);let i=n+1;return i>=this.stops.length&&(i=this.stops.length-1),wt((t-this.stops[n].position)*(1/(this.stops[i].position-this.stops[n].position)),e,this.stops[n].color,this.stops[i].color)}trim(t,e,n=ht.RGB){if(t<0||e>1||e<t)throw new Error("Invalid bounds");if(t===e)return new xt([{color:this.getColor(t,n),position:0}]);const i=[];for(let n=0;n<this.stops.length;n++)this.stops[n].position>=t&&this.stops[n].position<=e&&i.push(this.stops[n]);if(0===i.length)return new xt([{color:this.getColor(t),position:t},{color:this.getColor(e),position:e}]);i[0].position!==t&&i.unshift({color:this.getColor(t),position:t}),i[i.length-1].position!==e&&i.push({color:this.getColor(e),position:e});const r=e-t,o=new Array(i.length);for(let e=0;e<i.length;e++)o[e]={color:i[e].color,position:(i[e].position-t)/r};return new xt(o)}findNextColor(t,e,n=!1,i=ht.RGB,r=.005,o=32){isNaN(t)||t<=0?t=0:t>=1&&(t=1);const s=this.getColor(t,i),a=n?0:1;if(R(s,this.getColor(a,i))<=e)return a;let l=n?0:t,h=n?t:0,u=a,g=0;for(;g<=o;){u=Math.abs(h-l)/2+l;const t=R(s,this.getColor(u,i));if(Math.abs(t-e)<=r)return u;t>e?n?l=u:h=u:n?h=u:l=u,g++}return u}clone(){const t=new Array(this.stops.length);for(let e=0;e<t.length;e++)t[e]={color:this.stops[e].color,position:this.stops[e].position};return new xt(t)}sortColorScaleStops(t){return t.sort(((t,e)=>{const n=t.position,i=e.position;return n<i?-1:n>i?1:0}))}}const Ct={aliceblue:{r:.941176,g:.972549,b:1},antiquewhite:{r:.980392,g:.921569,b:.843137},aqua:{r:0,g:1,b:1},aquamarine:{r:.498039,g:1,b:.831373},azure:{r:.941176,g:1,b:1},beige:{r:.960784,g:.960784,b:.862745},bisque:{r:1,g:.894118,b:.768627},black:{r:0,g:0,b:0},blanchedalmond:{r:1,g:.921569,b:.803922},blue:{r:0,g:0,b:1},blueviolet:{r:.541176,g:.168627,b:.886275},brown:{r:.647059,g:.164706,b:.164706},burlywood:{r:.870588,g:.721569,b:.529412},cadetblue:{r:.372549,g:.619608,b:.627451},chartreuse:{r:.498039,g:1,b:0},chocolate:{r:.823529,g:.411765,b:.117647},coral:{r:1,g:.498039,b:.313725},cornflowerblue:{r:.392157,g:.584314,b:.929412},cornsilk:{r:1,g:.972549,b:.862745},crimson:{r:.862745,g:.078431,b:.235294},cyan:{r:0,g:1,b:1},darkblue:{r:0,g:0,b:.545098},darkcyan:{r:0,g:.545098,b:.545098},darkgoldenrod:{r:.721569,g:.52549,b:.043137},darkgray:{r:.662745,g:.662745,b:.662745},darkgreen:{r:0,g:.392157,b:0},darkgrey:{r:.662745,g:.662745,b:.662745},darkkhaki:{r:.741176,g:.717647,b:.419608},darkmagenta:{r:.545098,g:0,b:.545098},darkolivegreen:{r:.333333,g:.419608,b:.184314},darkorange:{r:1,g:.54902,b:0},darkorchid:{r:.6,g:.196078,b:.8},darkred:{r:.545098,g:0,b:0},darksalmon:{r:.913725,g:.588235,b:.478431},darkseagreen:{r:.560784,g:.737255,b:.560784},darkslateblue:{r:.282353,g:.239216,b:.545098},darkslategray:{r:.184314,g:.309804,b:.309804},darkslategrey:{r:.184314,g:.309804,b:.309804},darkturquoise:{r:0,g:.807843,b:.819608},darkviolet:{r:.580392,g:0,b:.827451},deeppink:{r:1,g:.078431,b:.576471},deepskyblue:{r:0,g:.74902,b:1},dimgray:{r:.411765,g:.411765,b:.411765},dimgrey:{r:.411765,g:.411765,b:.411765},dodgerblue:{r:.117647,g:.564706,b:1},firebrick:{r:.698039,g:.133333,b:.133333},floralwhite:{r:1,g:.980392,b:.941176},forestgreen:{r:.133333,g:.545098,b:.133333},fuchsia:{r:1,g:0,b:1},gainsboro:{r:.862745,g:.862745,b:.862745},ghostwhite:{r:.972549,g:.972549,b:1},gold:{r:1,g:.843137,b:0},goldenrod:{r:.854902,g:.647059,b:.12549},gray:{r:.501961,g:.501961,b:.501961},green:{r:0,g:.501961,b:0},greenyellow:{r:.678431,g:1,b:.184314},grey:{r:.501961,g:.501961,b:.501961},honeydew:{r:.941176,g:1,b:.941176},hotpink:{r:1,g:.411765,b:.705882},indianred:{r:.803922,g:.360784,b:.360784},indigo:{r:.294118,g:0,b:.509804},ivory:{r:1,g:1,b:.941176},khaki:{r:.941176,g:.901961,b:.54902},lavender:{r:.901961,g:.901961,b:.980392},lavenderblush:{r:1,g:.941176,b:.960784},lawngreen:{r:.486275,g:.988235,b:0},lemonchiffon:{r:1,g:.980392,b:.803922},lightblue:{r:.678431,g:.847059,b:.901961},lightcoral:{r:.941176,g:.501961,b:.501961},lightcyan:{r:.878431,g:1,b:1},lightgoldenrodyellow:{r:.980392,g:.980392,b:.823529},lightgray:{r:.827451,g:.827451,b:.827451},lightgreen:{r:.564706,g:.933333,b:.564706},lightgrey:{r:.827451,g:.827451,b:.827451},lightpink:{r:1,g:.713725,b:.756863},lightsalmon:{r:1,g:.627451,b:.478431},lightseagreen:{r:.12549,g:.698039,b:.666667},lightskyblue:{r:.529412,g:.807843,b:.980392},lightslategray:{r:.466667,g:.533333,b:.6},lightslategrey:{r:.466667,g:.533333,b:.6},lightsteelblue:{r:.690196,g:.768627,b:.870588},lightyellow:{r:1,g:1,b:.878431},lime:{r:0,g:1,b:0},limegreen:{r:.196078,g:.803922,b:.196078},linen:{r:.980392,g:.941176,b:.901961},magenta:{r:1,g:0,b:1},maroon:{r:.501961,g:0,b:0},mediumaquamarine:{r:.4,g:.803922,b:.666667},mediumblue:{r:0,g:0,b:.803922},mediumorchid:{r:.729412,g:.333333,b:.827451},mediumpurple:{r:.576471,g:.439216,b:.858824},mediumseagreen:{r:.235294,g:.701961,b:.443137},mediumslateblue:{r:.482353,g:.407843,b:.933333},mediumspringgreen:{r:0,g:.980392,b:.603922},mediumturquoise:{r:.282353,g:.819608,b:.8},mediumvioletred:{r:.780392,g:.082353,b:.521569},midnightblue:{r:.098039,g:.098039,b:.439216},mintcream:{r:.960784,g:1,b:.980392},mistyrose:{r:1,g:.894118,b:.882353},moccasin:{r:1,g:.894118,b:.709804},navajowhite:{r:1,g:.870588,b:.678431},navy:{r:0,g:0,b:.501961},oldlace:{r:.992157,g:.960784,b:.901961},olive:{r:.501961,g:.501961,b:0},olivedrab:{r:.419608,g:.556863,b:.137255},orange:{r:1,g:.647059,b:0},orangered:{r:1,g:.270588,b:0},orchid:{r:.854902,g:.439216,b:.839216},palegoldenrod:{r:.933333,g:.909804,b:.666667},palegreen:{r:.596078,g:.984314,b:.596078},paleturquoise:{r:.686275,g:.933333,b:.933333},palevioletred:{r:.858824,g:.439216,b:.576471},papayawhip:{r:1,g:.937255,b:.835294},peachpuff:{r:1,g:.854902,b:.72549},peru:{r:.803922,g:.521569,b:.247059},pink:{r:1,g:.752941,b:.796078},plum:{r:.866667,g:.627451,b:.866667},powderblue:{r:.690196,g:.878431,b:.901961},purple:{r:.501961,g:0,b:.501961},red:{r:1,g:0,b:0},rosybrown:{r:.737255,g:.560784,b:.560784},royalblue:{r:.254902,g:.411765,b:.882353},saddlebrown:{r:.545098,g:.270588,b:.07451},salmon:{r:.980392,g:.501961,b:.447059},sandybrown:{r:.956863,g:.643137,b:.376471},seagreen:{r:.180392,g:.545098,b:.341176},seashell:{r:1,g:.960784,b:.933333},sienna:{r:.627451,g:.321569,b:.176471},silver:{r:.752941,g:.752941,b:.752941},skyblue:{r:.529412,g:.807843,b:.921569},slateblue:{r:.415686,g:.352941,b:.803922},slategray:{r:.439216,g:.501961,b:.564706},slategrey:{r:.439216,g:.501961,b:.564706},snow:{r:1,g:.980392,b:.980392},springgreen:{r:0,g:1,b:.498039},steelblue:{r:.27451,g:.509804,b:.705882},tan:{r:.823529,g:.705882,b:.54902},teal:{r:0,g:.501961,b:.501961},thistle:{r:.847059,g:.74902,b:.847059},tomato:{r:1,g:.388235,b:.278431},transparent:{r:0,g:0,b:0,a:0},turquoise:{r:.25098,g:.878431,b:.815686},violet:{r:.933333,g:.509804,b:.933333},wheat:{r:.960784,g:.870588,b:.701961},white:{r:1,g:1,b:1},whitesmoke:{r:.960784,g:.960784,b:.960784},yellow:{r:1,g:1,b:0},yellowgreen:{r:.603922,g:.803922,b:.196078}},yt=/^rgb\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){2}(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*)\)$/i,Bt=/^rgba\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){3}(?:0|1|0?\.\d*)\s*)\)$/i,Rt=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i,Gt=/^#((?:[0-9a-f]{8}|[0-9a-f]{4}))$/i;function Mt(t){return Rt.test(t)}function St(t){return Gt.test(t)}function Lt(t){return St(t)}function kt(t){return yt.test(t)}function Nt(t){return Bt.test(t)}function Pt(t){return Ct.hasOwnProperty(t)}function vt(t){const e=Rt.exec(t);if(null===e)return null;let n=e[1];if(3===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2);n=t.concat(t,e,e,i,i)}const i=parseInt(n,16);return isNaN(i)?null:new w(r((16711680&i)>>>16,0,255),r((65280&i)>>>8,0,255),r(255&i,0,255),1)}function Ht(t){const e=Gt.exec(t);if(null===e)return null;let n=e[1];if(4===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2),r=n.charAt(3);n=t.concat(t,e,e,i,i,r,r)}const i=parseInt(n,16);return isNaN(i)?null:new w(r((16711680&i)>>>16,0,255),r((65280&i)>>>8,0,255),r(255&i,0,255),r((4278190080&i)>>>24,0,255))}function At(t){const e=Gt.exec(t);if(null===e)return null;let n=e[1];if(4===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2),r=n.charAt(3);n=t.concat(t,e,e,i,i,r,r)}const i=parseInt(n,16);return isNaN(i)?null:new w(r((4278190080&i)>>>24,0,255),r((16711680&i)>>>16,0,255),r((65280&i)>>>8,0,255),r(255&i,0,255))}function Vt(t){const e=yt.exec(t);if(null===e)return null;const n=e[1].split(",");return new w(r(Number(n[0]),0,255),r(Number(n[1]),0,255),r(Number(n[2]),0,255),1)}function zt(t){const e=Bt.exec(t);if(null===e)return null;const n=e[1].split(",");return 4===n.length?new w(r(Number(n[0]),0,255),r(Number(n[1]),0,255),r(Number(n[2]),0,255),Number(n[3])):null}function Dt(t){const e=Ct[t.toLowerCase()];return e?new w(e.r,e.g,e.b,e.hasOwnProperty("a")?e.a:void 0):null}function Ot(t){const e=t.toLowerCase();return Mt(e)?vt(e):Lt(e)?Ht(e):kt(e)?Vt(e):Nt(e)?zt(e):Pt(e)?Dt(e):null}class Tt{constructor(t){this.config=Object.assign({},Tt.defaultPaletteConfig,t),this.palette=[],this.updatePaletteColors()}updatePaletteGenerationValues(t){let e=!1;for(const n in t)this.config[n]&&(this.config[n].equalValue?this.config[n].equalValue(t[n])||(this.config[n]=t[n],e=!0):t[n]!==this.config[n]&&(this.config[n]=t[n],e=!0));return e&&this.updatePaletteColors(),e}updatePaletteColors(){const t=this.generatePaletteColorScale();for(let e=0;e<this.config.steps;e++)this.palette[e]=t.getColor(e/(this.config.steps-1),this.config.interpolationMode)}generatePaletteColorScale(){const t=L(this.config.baseColor),e=new xt([{position:0,color:this.config.scaleColorLight},{position:.5,color:this.config.baseColor},{position:1,color:this.config.scaleColorDark}]).trim(this.config.clipLight,1-this.config.clipDark);let n=e.getColor(0),i=e.getColor(1);if(t.s>=this.config.saturationAdjustmentCutoff&&(n=E(n,this.config.saturationLight),i=E(i,this.config.saturationDark)),0!==this.config.multiplyLight){const t=it(this.config.baseColor,n);n=wt(this.config.multiplyLight,this.config.interpolationMode,n,t)}if(0!==this.config.multiplyDark){const t=it(this.config.baseColor,i);i=wt(this.config.multiplyDark,this.config.interpolationMode,i,t)}if(0!==this.config.overlayLight){const t=ot(this.config.baseColor,n);n=wt(this.config.overlayLight,this.config.interpolationMode,n,t)}if(0!==this.config.overlayDark){const t=ot(this.config.baseColor,i);i=wt(this.config.overlayDark,this.config.interpolationMode,i,t)}return this.config.baseScalePosition?this.config.baseScalePosition<=0?new xt([{position:0,color:this.config.baseColor},{position:1,color:i.clamp()}]):this.config.baseScalePosition>=1?new xt([{position:0,color:n.clamp()},{position:1,color:this.config.baseColor}]):new xt([{position:0,color:n.clamp()},{position:this.config.baseScalePosition,color:this.config.baseColor},{position:1,color:i.clamp()}]):new xt([{position:0,color:n.clamp()},{position:.5,color:this.config.baseColor},{position:1,color:i.clamp()}])}}function jt(t,e){const n=L(t);let i=Number.MAX_VALUE,r=0;for(let t=0;t<e.length;t++){const o=L(e[t]),s=Math.abs(o.l-n.l);s<i&&(i=s,r=t)}return r}function It(t,e,n=Tt.greyscalePaletteConfig,i=Tt.defaultPaletteConfig){const r=jt(t,new Tt(Object.assign(Object.assign({},n),{steps:e})).palette);return new Tt(Object.assign(Object.assign({},i),{steps:e,baseColor:t,baseScalePosition:r/(e-1)}))}function qt(t,e,n){if(t.length<=1||e<=1)throw new Error("The input array and targetSize must both be greater than 1");if(n&&e<=t.length)throw new Error("If preserveInputColors is true then targetSize must be greater than the length of the input array");const i=new Array(t.length);if(n)for(let n=0;n<t.length;n++){const r=n/(t.length-1);let o=2,s=0;for(let t=0;t<e;t++){const n=Math.abs(t/(e-1)-r);if(n<o&&(o=n,s=t),0===n)break}i[n]={color:t[n],position:s/(e-1)}}else for(let e=0;e<i.length;e++)i[e]={color:t[e],position:e/(t.length-1)};const r=new xt(i),o=new Array(e);for(let t=0;t<e;t++)o[t]=r.getColor(t/(e-1));return o}Tt.defaultPaletteConfig={baseColor:vt("#808080"),steps:11,interpolationMode:ht.RGB,scaleColorLight:new w(1,1,1,1),scaleColorDark:new w(0,0,0,1),clipLight:.185,clipDark:.16,saturationAdjustmentCutoff:.05,saturationLight:.35,saturationDark:1.25,overlayLight:0,overlayDark:.25,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},Tt.greyscalePaletteConfig={baseColor:vt("#808080"),steps:11,interpolationMode:ht.RGB,scaleColorLight:new w(1,1,1,1),scaleColorDark:new w(0,0,0,1),clipLight:0,clipDark:0,saturationAdjustmentCutoff:0,saturationLight:0,saturationDark:0,overlayLight:0,overlayDark:0,multiplyLight:0,multiplyDark:0,baseScalePosition:.5};const Wt={targetSize:63,spacing:4,scaleColorLight:Tt.defaultPaletteConfig.scaleColorLight,scaleColorDark:Tt.defaultPaletteConfig.scaleColorDark};function Et(t,e=Wt){if(0===t.length)return[];const n=Math.floor((e.targetSize-((t.length-1)*e.spacing+1))/2);if(n<0)throw new Error("(targetSize - ((input.length - 1) * spacing + 1)) / 2 must be >= 0");const i=new Array(t.length+2);i[0]={position:0,color:e.scaleColorLight},i[i.length-1]={position:1,color:e.scaleColorDark};for(let r=0;r<t.length;r++)i[r+1]={color:t[r],position:(r*e.spacing+n)/(e.targetSize-1)};const r=new xt(i),o=new Array(e.targetSize);for(let t=0;t<e.targetSize;t++)o[t]=r.getColor(t/(e.targetSize-1));return o}function $t(t,e=11,n=Wt){const i=It(t,e),r=Et(i.palette,n);return{short:i.palette,long:r}}class Xt{constructor(t,e=5,n=5,i=null){if(this.getHistogramIndex=(t,e,n)=>{const i=(t<<2*this.significantBits)+(e<<this.significantBits)+n;if(i>=this.data.length)throw new Error("RGB value is outside the bounds of the histogram");return i},this.getHistogramValue=(t,e,n)=>this.data[this.getHistogramIndex(t,e,n)],this.setHistogramValue=(t,e,n,i)=>{this.data[this.getHistogramIndex(e,n,i)]=t},e<1||e>8)throw new Error("significantBits must be in the range [1,8]");if(n<0)throw new Error("pixelSkipping must be >= 0");this.significantBits=e;const r=8-this.significantBits;this.minRed=255>>>r,this.maxRed=0,this.minGreen=255>>>r,this.maxGreen=0,this.minBlue=255>>>r,this.maxBlue=0;const o=1<<3*e;this.data=new Uint32Array(o),this.data.fill(0),this.total=0;let s=0;for(let e=0;e<t.height;e++)for(let o=0;o<t.width;o++){if(n>0&&s++%n!=0)continue;const a=t.getPixelRGBA(o,e);if(null!==i&&!i(a))continue;a[0]=a[0]>>>r,a[1]=a[1]>>>r,a[2]=a[2]>>>r,this.minRed=Math.min(a[0],this.minRed),this.maxRed=Math.max(a[0],this.maxRed),this.minGreen=Math.min(a[1],this.minGreen),this.maxGreen=Math.max(a[1],this.maxGreen),this.minBlue=Math.min(a[2],this.minBlue),this.maxBlue=Math.max(a[2],this.maxBlue);const l=this.getHistogramIndex(a[0],a[1],a[2]);this.data[l]+=1,this.total++}}}function Ut(t,e,n){if(0===t.length)return void t.push(e);const i=n(e);if(i>n(t[0]))return void t.unshift(e);if(i<=n(t[t.length-1]))return void t.push(e);let r=0;for(let e=0;e<t.length;e++)if(i>n(t[e])){r=e;break}t.splice(r,0,e)}class Yt{constructor(t,e,n,i,r,o,s){this.modifiedMedianCut=()=>{if(1===this.rangeRed&&1===this.rangeGreen&&1===this.rangeBlue)return[this,null];let t,e,n;!function(t){t[t.Red=0]="Red",t[t.Green=1]="Green",t[t.Blue=2]="Blue"}(t||(t={})),this.rangeRed>=this.rangeGreen&&this.rangeRed>=this.rangeBlue?(e=t.Red,n=this.rangeRed):this.rangeGreen>=this.rangeRed&&this.rangeGreen>=this.rangeBlue?(e=t.Green,n=this.rangeGreen):(e=t.Blue,n=this.rangeBlue);const i=new Array(n),r=new Array(n);let o=null,s=null,a=0;if(e===t.Red){for(let t=this.minRed;t<=this.maxRed;t++){let e=0;for(let n=this.minGreen;n<=this.maxGreen;n++)for(let i=this.minBlue;i<=this.maxBlue;i++)e+=this.globalHistogram.getHistogramValue(t,n,i);a+=e,i[t-this.minRed]=a}for(let t=0;t<i.length;t++)r[t]=a-i[t];for(let t=this.minRed;t<=this.maxRed;t++)if(i[t-this.minRed]>=a/2){const e=t-this.minRed,n=this.maxRed-t;let a;for(a=e<=n?Math.min(this.maxRed-1,Math.floor(t+n/2)):Math.max(this.minRed,Math.floor(t-1-e/2));i[a-this.minRed]<=0&&a<this.maxRed-1;)a++;let l=r[a-this.minRed];for(;0===l&&a>this.minRed&&0!==i[a-this.minRed-1];)a--,l=r[a-this.minRed];o=new Yt(this.globalHistogram,this.minRed,a,this.minGreen,this.maxGreen,this.minBlue,this.maxBlue),s=new Yt(this.globalHistogram,a+1,this.maxRed,this.minGreen,this.maxGreen,this.minBlue,this.maxBlue);break}}else if(e===t.Green){for(let t=this.minGreen;t<=this.maxGreen;t++){let e=0;for(let n=this.minRed;n<=this.maxRed;n++)for(let i=this.minBlue;i<=this.maxBlue;i++)e+=this.globalHistogram.getHistogramValue(n,t,i);a+=e,i[t-this.minGreen]=a}for(let t=0;t<i.length;t++)r[t]=a-i[t];for(let t=this.minGreen;t<=this.maxGreen;t++)if(i[t-this.minGreen]>=a/2){const e=t-this.minGreen,n=this.maxGreen-t;let a;for(a=e<=n?Math.min(this.maxGreen-1,Math.floor(t+n/2)):Math.max(this.minGreen,Math.floor(t-1-e/2));i[a-this.minGreen]<=0&&a<this.maxGreen-1;)a++;let l=r[a-this.minGreen];for(;0===l&&a>this.minGreen&&0!==i[a-this.minGreen-1];)a--,l=r[a-this.minGreen];o=new Yt(this.globalHistogram,this.minRed,this.maxRed,this.minGreen,a,this.minBlue,this.maxBlue),s=new Yt(this.globalHistogram,this.minRed,this.maxRed,a+1,this.maxGreen,this.minBlue,this.maxBlue);break}}else{for(let t=this.minBlue;t<=this.maxBlue;t++){let e=0;for(let n=this.minRed;n<=this.maxRed;n++)for(let i=this.minGreen;i<=this.maxGreen;i++)e+=this.globalHistogram.getHistogramValue(n,i,t);a+=e,i[t-this.minBlue]=a}for(let t=0;t<i.length;t++)r[t]=a-i[t];for(let t=this.minBlue;t<=this.maxBlue;t++)if(i[t-this.minBlue]>=a/2){const e=t-this.minBlue,n=this.maxBlue-t;let a;for(a=e<=n?Math.min(this.maxBlue-1,Math.floor(t+n/2)):Math.max(this.minBlue,Math.floor(t-1-e/2));i[a-this.minBlue]<=0&&a<this.maxBlue-1;)a++;let l=r[a-this.minBlue];for(;0===l&&a>this.minBlue&&0!==i[a-this.minBlue-1];)a--,l=r[a-this.minBlue];o=new Yt(this.globalHistogram,this.minRed,this.maxRed,this.minGreen,this.maxGreen,this.minBlue,a),s=new Yt(this.globalHistogram,this.minRed,this.maxRed,this.minGreen,this.maxGreen,a+1,this.maxBlue);break}}return[o,s]},this.pixelCount=0,this.globalHistogram=t,this.minRed=e,this.maxRed=n,this.minGreen=i,this.maxGreen=r,this.minBlue=o,this.maxBlue=s,this.rangeRed=this.maxRed-this.minRed+1,this.rangeGreen=this.maxGreen-this.minGreen+1,this.rangeBlue=this.maxBlue-this.minBlue+1,this.colorVolume=this.rangeRed*this.rangeGreen*this.rangeBlue;let a=0,l=0,h=0;const u=1<<8-this.globalHistogram.significantBits;for(let t=e;t<=n;t++)for(let e=i;e<=r;e++)for(let n=o;n<=s;n++){const i=this.globalHistogram.getHistogramValue(t,e,n);this.pixelCount+=i,a+=i*(t+.5)*u,l+=i*(e+.5)*u,h+=i*(n+.5)*u}0===this.pixelCount?this.averageColor=new w(u*((e+n+1)/2)/255,u*((i+r+1)/2)/255,u*((o+s+1)/2)/255,1):this.averageColor=new w(a/this.pixelCount/255,l/this.pixelCount/255,h/this.pixelCount/255,1)}}function Zt(t,e){if(null===e)return t.length;let n=0;for(let i=0;i<t.length;i++)e(t[i])&&n++;return n}const _t={significantBits:5,pixelSkipping:5,targetPaletteSize:64,fractionByPopulation:.85,isBoxValid:t=>!(t.pixelCount<5),isHistogramPixelValid:t=>!(t[3]<128),maxIterations:1e3};function Ft(t,e=_t){const n=[new Yt(t,t.minRed,t.maxRed,t.minGreen,t.maxGreen,t.minBlue,t.maxBlue)];let i=Zt(n,e.isBoxValid);const r=Math.floor(e.targetPaletteSize*e.fractionByPopulation),o=t=>t.pixelCount;let s=0;for(;s<=e.maxIterations;){if(n.length>0){const t=n.shift().modifiedMedianCut();null!==t[0]&&Ut(n,t[0],o),null!==t[1]&&Ut(n,t[1],o)}if(i=Zt(n,e.isBoxValid),i>=r||n.length<=1)break;s++}if(i<e.targetPaletteSize){const t=t=>t.pixelCount*t.colorVolume;for(n.sort(((e,n)=>{const i=t(e),r=t(n);return i===r?0:i>r?-1:1})),s=0;s<=e.maxIterations;){if(n.length>0){const e=n.shift().modifiedMedianCut();null!==e[0]&&Ut(n,e[0],t),null!==e[1]&&Ut(n,e[1],t)}if(i=Zt(n,e.isBoxValid),i>=e.targetPaletteSize||n.length<=1)break;s++}}const a=new Array(i);let l=0;for(let t=0;t<n.length;t++)e.isBoxValid&&!e.isBoxValid(n[t])||(a[l]={color:n[t].averageColor,pixelCount:n[t].pixelCount,colorVolume:n[t].colorVolume},l++);return a}function Qt(t,e=_t){return Ft(new Xt(t,e.significantBits,e.pixelSkipping,e.isHistogramPixelValid),e)}class Jt{constructor(t){this.palette=[],this.config=Object.assign({},Jt.defaultPaletteConfig,t),this.regenPalettes()}regenPalettes(){let t=this.config.steps;(isNaN(t)||t<3)&&(t=3);const e=.14,n=new w(e,e,e,1),i=new Tt(Object.assign(Object.assign({},Tt.greyscalePaletteConfig),{baseColor:n,baseScalePosition:86/94,steps:t})).palette,r=(C(this.config.baseColor)+L(this.config.baseColor).l)/2,o=this.matchRelativeLuminanceIndex(r,i)/(t-1),s=this.matchRelativeLuminanceIndex(e,i)/(t-1),a=L(this.config.baseColor),l=k(m.fromObject({h:a.h,s:a.s,l:e})),h=k(m.fromObject({h:a.h,s:a.s,l:.06})),u=new Array(5);u[0]={position:0,color:new w(1,1,1,1)},u[1]={position:o,color:this.config.baseColor},u[2]={position:s,color:l},u[3]={position:.99,color:h},u[4]={position:1,color:new w(0,0,0,1)};const g=new xt(u);this.palette=new Array(t);for(let e=0;e<t;e++){const n=g.getColor(e/(t-1),ht.RGB);this.palette[e]=n}}matchRelativeLuminanceIndex(t,e){let n=Number.MAX_VALUE,i=0,r=0;const o=e.length;for(;r<o;r++){const o=Math.abs(C(e[r])-t);o<n&&(n=o,i=r)}return i}}Jt.defaultPaletteConfig={baseColor:vt("#808080"),steps:94};const Kt={saturationWeight:6,luminosityWeight:3,populationWeight:1,volumeWeight:.1,constraints:[{id:"Vibrant",targetSaturation:1,minSaturation:.35,maxSaturation:1,targetLuminosity:.5,minLuminosity:.3,maxLuminosity:.7},{id:"LightVibrant",targetSaturation:1,minSaturation:.35,maxSaturation:1,targetLuminosity:.74,minLuminosity:.55,maxLuminosity:1},{id:"DarkVibrant",targetSaturation:1,minSaturation:.35,maxSaturation:1,targetLuminosity:.26,minLuminosity:0,maxLuminosity:.45},{id:"Muted",targetSaturation:.3,minSaturation:0,maxSaturation:.4,targetLuminosity:.5,minLuminosity:.3,maxLuminosity:.7},{id:"LightMuted",targetSaturation:.3,minSaturation:0,maxSaturation:.4,targetLuminosity:.74,minLuminosity:.55,maxLuminosity:1},{id:"DarkMuted",targetSaturation:.3,minSaturation:0,maxSaturation:.4,targetLuminosity:.26,minLuminosity:0,maxLuminosity:.45}]};function te(t,e=Kt){if(0===e.constraints.length)return[];let n=0,i=0;for(let e=0;e<t.length;e++)n+=t[e].pixelCount,i+=t[e].colorVolume;const r=new Array(e.constraints.length),o=new Array(e.constraints.length);for(let t=0;t<r.length;t++)o[t]=0,r[t]={found:!1,constraint:e.constraints[t]};const s=e.saturationWeight+e.luminosityWeight+e.populationWeight+e.volumeWeight;for(let a=0;a<t.length;a++){const l=L(t[a].color);for(let h=0;h<e.constraints.length;h++)if(l.s>=e.constraints[h].minSaturation&&l.s<=e.constraints[h].maxSaturation&&l.l>=e.constraints[h].minLuminosity&&l.l<=e.constraints[h].maxLuminosity){const u=t[a].pixelCount/n,g=t[a].colorVolume/i,c=1-Math.abs(l.s-e.constraints[h].targetSaturation),b=1-Math.abs(l.l-e.constraints[h].targetLuminosity),m=(u*e.populationWeight+g*e.volumeWeight+c*e.saturationWeight+b*e.luminosityWeight)/s;if(m>o[h]){let e=!1;for(let n=0;n<h;n++)if(r[n].found&&r[n].color.color.equalValue(t[a].color)){e=!0;break}e||(o[h]=m,r[h].found=!0,r[h].color=t[a])}}}return r}function ee(t){return new Promise(((e,n)=>{const i=new Image;i?(i.onload=t=>{const r=document.createElement("canvas");if(!r)return void n("Unable to create canvas");r.width=i.naturalWidth,r.height=i.naturalHeight;const o=r.getContext("2d");if(!o)return void n("Unable to create context");o.drawImage(i,0,0,r.width,r.height);const s=o.getImageData(0,0,r.width,r.height);e(s)},i.onerror=t=>{n(t)},i.onabort=t=>{n(t)},i.src=t):n("Unable to create image")}))}class ne{constructor(t){this.getPixel=(t,e)=>{const n=this.getPixelRGBA(t,e);return new w(n[0]/255,n[1]/255,n[2]/255,n[3]/255)},this.getPixelRGBA=(t,e)=>{if(t<0||t>=this.width||e<0||e>=this.height)throw new Error("Requested pixel is outside of the image bounds");const n=4*(e*this.width+t);return[this.image.data[n],this.image.data[n+1],this.image.data[n+2],this.image.data[n+3]]},this.image=t,this.width=t.width,this.height=t.height,this.totalPixels=this.width*this.height}}}}]);