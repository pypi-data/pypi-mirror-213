"use strict";(self.webpackChunkdash_deckgl=self.webpackChunkdash_deckgl||[]).push([[707],{1167:(e,r,t)=>{t.r(r),t.d(r,{default:()=>q});var n={};t.r(n),t.d(n,{AGGREGATION_OPERATION:()=>p.AGGREGATION_OPERATION,AmbientLight:()=>p.AmbientLight,ArcLayer:()=>p.ArcLayer,AttributeManager:()=>p.AttributeManager,BitmapLayer:()=>p.BitmapLayer,Buffer:()=>m.Buffer,COORDINATE_SYSTEM:()=>p.COORDINATE_SYSTEM,CPUGridLayer:()=>p.CPUGridLayer,ColumnLayer:()=>p.ColumnLayer,CompositeLayer:()=>p.CompositeLayer,ConeGeometry:()=>m.ConeGeometry,ContourLayer:()=>p.ContourLayer,Controller:()=>p.Controller,CubeGeometry:()=>m.CubeGeometry,CylinderGeometry:()=>m.CylinderGeometry,Deck:()=>p.Deck,DeckRenderer:()=>p.DeckRenderer,DirectionalLight:()=>p.DirectionalLight,FEATURES:()=>m.FEATURES,FirstPersonController:()=>p.FirstPersonController,FirstPersonView:()=>p.FirstPersonView,FirstPersonViewport:()=>p.FirstPersonViewport,FlyToInterpolator:()=>p.FlyToInterpolator,Framebuffer:()=>m.Framebuffer,GPUGridLayer:()=>p.GPUGridLayer,GeoJsonLayer:()=>p.GeoJsonLayer,GeohashLayer:()=>p.GeohashLayer,Geometry:()=>m.Geometry,GoogleMapsOverlay:()=>p.GoogleMapsOverlay,GreatCircleLayer:()=>p.GreatCircleLayer,GridCellLayer:()=>p.GridCellLayer,GridLayer:()=>p.GridLayer,H3ClusterLayer:()=>p.H3ClusterLayer,H3HexagonLayer:()=>p.H3HexagonLayer,HeatmapLayer:()=>p.HeatmapLayer,HexagonLayer:()=>p.HexagonLayer,IcoSphereGeometry:()=>m.IcoSphereGeometry,IconLayer:()=>p.IconLayer,JSONConfiguration:()=>p.JSONConfiguration,JSONConverter:()=>p.JSONConverter,Layer:()=>p.Layer,LayerExtension:()=>p.LayerExtension,LayerManager:()=>p.LayerManager,LightingEffect:()=>p.LightingEffect,LineLayer:()=>p.LineLayer,LinearInterpolator:()=>p.LinearInterpolator,MVTLayer:()=>p.MVTLayer,MapController:()=>p.MapController,MapView:()=>p.MapView,Model:()=>m.Model,OPERATION:()=>p.OPERATION,OrbitController:()=>p.OrbitController,OrbitView:()=>p.OrbitView,OrbitViewport:()=>p.OrbitViewport,OrthographicController:()=>p.OrthographicController,OrthographicView:()=>p.OrthographicView,OrthographicViewport:()=>p.OrthographicViewport,PathLayer:()=>p.PathLayer,PlaneGeometry:()=>m.PlaneGeometry,PointCloudLayer:()=>p.PointCloudLayer,PointLight:()=>p.PointLight,PolygonLayer:()=>p.PolygonLayer,PostProcessEffect:()=>p.PostProcessEffect,Program:()=>m.Program,ProgramManager:()=>m.ProgramManager,QuadkeyLayer:()=>p.QuadkeyLayer,Renderbuffer:()=>m.Renderbuffer,S2Layer:()=>p.S2Layer,ScatterplotLayer:()=>p.ScatterplotLayer,ScenegraphLayer:()=>p.ScenegraphLayer,ScreenGridLayer:()=>p.ScreenGridLayer,SimpleMeshLayer:()=>p.SimpleMeshLayer,SolidPolygonLayer:()=>p.SolidPolygonLayer,SphereGeometry:()=>m.SphereGeometry,TRANSITION_EVENTS:()=>p.TRANSITION_EVENTS,TerrainLayer:()=>p.TerrainLayer,Tesselator:()=>p.Tesselator,TextLayer:()=>p.TextLayer,Texture2D:()=>m.Texture2D,Texture3D:()=>m.Texture3D,TextureCube:()=>m.TextureCube,Tile3DLayer:()=>p.Tile3DLayer,TileLayer:()=>p.TileLayer,Timeline:()=>m.Timeline,Transform:()=>m.Transform,TransformFeedback:()=>m.TransformFeedback,TransitionInterpolator:()=>p.TransitionInterpolator,Transport:()=>p.Transport,TripsLayer:()=>p.TripsLayer,TruncatedConeGeometry:()=>m.TruncatedConeGeometry,UNIT:()=>p.UNIT,VERSION:()=>p.VERSION,View:()=>p.View,Viewport:()=>p.Viewport,WebMercatorViewport:()=>p.WebMercatorViewport,_AggregationLayer:()=>p._AggregationLayer,_BinSorter:()=>p._BinSorter,_CPUAggregator:()=>p._CPUAggregator,_CameraLight:()=>p._CameraLight,_GPUGridAggregator:()=>p._GPUGridAggregator,_GeoCellLayer:()=>p._GeoCellLayer,_GlobeController:()=>p._GlobeController,_GlobeView:()=>p._GlobeView,_GlobeViewport:()=>p._GlobeViewport,_LayersPass:()=>p._LayersPass,_MultiIconLayer:()=>p._MultiIconLayer,_PickLayersPass:()=>p._PickLayersPass,_SunLight:()=>p._SunLight,_TextBackgroundLayer:()=>p._TextBackgroundLayer,_Tile2DHeader:()=>p._Tile2DHeader,_Tileset2D:()=>p._Tileset2D,_WMSLayer:()=>p._WMSLayer,_compareProps:()=>p._compareProps,_convertFunctions:()=>p._convertFunctions,_count:()=>p._count,_deepEqual:()=>p._deepEqual,_fillArray:()=>p._fillArray,_flatten:()=>p._flatten,_getURLFromTemplate:()=>p._getURLFromTemplate,_memoize:()=>p._memoize,_mergeShaders:()=>p._mergeShaders,_parseExpressionString:()=>p._parseExpressionString,_shallowEqualObjects:()=>p._shallowEqualObjects,assert:()=>p.assert,cloneTextureFrom:()=>m.cloneTextureFrom,copyToTexture:()=>m.copyToTexture,createIterable:()=>p.createIterable,cssToDeviceRatio:()=>m.cssToDeviceRatio,fetchFile:()=>g.fetchFile,fp64LowPart:()=>p.fp64LowPart,getParameters:()=>m.getParameters,gouraudLighting:()=>p.gouraudLighting,hasFeatures:()=>m.hasFeatures,instrumentGLContext:()=>m.instrumentGLContext,isWebGL2:()=>m.isWebGL2,load:()=>g.load,log:()=>p.log,parse:()=>g.parse,phongLighting:()=>p.phongLighting,picking:()=>p.picking,project:()=>p.project,project32:()=>p.project32,readPixelsToBuffer:()=>m.readPixelsToBuffer,registerLoaders:()=>g.registerLoaders,setParameters:()=>m.setParameters,shadow:()=>p.shadow,withParameters:()=>m.withParameters});var o=t(616),a=t.n(o),i=t(9538),l=t(9356),c=t(4572);t(3373);var u=t(5845),s=t(3549),y=t(8318),f={},p=t(4144),m=t(8339),g=t(4933);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e,r){if(e){if("string"==typeof e)return L(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,r):void 0}}function L(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var S,w,O=function(e){return e.charAt(0)===e.charAt(0).toUpperCase()},T=function(e){return e.charAt(0)===e.charAt(0).toLowerCase()&&"_"!==e.charAt(0)},P=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},o=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=v(e))){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}(Object.keys(r).filter(t));try{for(o.s();!(e=o.n()).done;){var a=e.value;n[a]=r[a]}}catch(e){o.e(e)}finally{o.f()}return n},C={classes:P(n,O),enumerations:{COORDINATE_SYSTEM:u.COORDINATE_SYSTEM,GL:s.Z}},E=(0,o.createContext)(),_=function(e){var r,t,n=e.configuration,i=e.customLibraries,l=e.children,c=(r=(0,o.useState)(new y.Z({configuration:C})),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(r,t)||v(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],p=function(e){if(e){var r=new y.Z(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){h(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},u));r.mergeConfiguration(e),r.convertedJson=null,s(r)}};(0,o.useEffect)((function(){p(n)}),[n]);var m=function(e,r){var t={classes:P(r,O),functions:P(r,T)};p(t)};return(0,o.useEffect)((function(){if(i){var e={};i.forEach((function(r){var t=r.libraryName,n=r.resourceUri;if(e[t]=!1,t in window)return m(0,window[t]),void(e[t]=window[t]);Object.defineProperty(window,t,{set:function(r){m(0,r),e[t]=r},get:function(){return e[t]}}),function(e){if(!f[e]){var r=document.createElement("script");r.type="text/javascript",r.src=e,document.querySelector("head").appendChild(r),f[e]=new Promise((function(e){r.onload=e}))}f[e]}(n)}))}}),[i]),a().createElement(E.Provider,{value:u},l)};function j(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=A(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}function A(e,r){if(e){if("string"==typeof e)return x(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,r):void 0}}function x(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var G={fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',display:"flex",flex:"wrap",maxWidth:"500px",flexDirection:"column",zIndex:2};function I(){return document.createElement("div")}function k(e){if(!e.picked)return null;if(e.object===S)return w;var r={html:N(e.object),style:G};return w=r,S=e.object,r}var D=new Set(["position","index"]);function N(e){var r=I();for(var t in e)if(!D.has(t)){var n=I();n.className="header",n.textContent=t;var o=I();o.className="value",o.textContent=V(e[t]);var a=I();M(a,n,o),a.appendChild(n),a.appendChild(o),r.appendChild(a)}return r.innerHTML}function M(e,r,t){Object.assign(r.style,{fontWeight:700,marginRight:"10px",flex:"1 1 0%"}),Object.assign(t.style,{flex:"none",maxWidth:"250px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),Object.assign(e.style,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"stretch"})}function V(e){var r;if(Array.isArray(e)&&e.length>4)r="Array<".concat(e.length,">");else if("string"==typeof e)r=e;else if("number"==typeof e)r=String(e);else try{r=JSON.stringify(e)}catch(e){r="<Non-Serializable Object>"}return r.length>50&&(r=r.slice(0,50)),r}function R(e,r){var t,n,o,a=e,i="properties",l=j(function(e){if(Array.isArray(e))return x(e)}(o=new Set(e.match(/{[^}]*}/g).map((function(e){return e.replace(/[{}]/g,"")}))))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||A(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c.includes(".")){t=r;var u,s=j(c.split("."));try{for(s.s();!(u=s.n()).done;){var y=u.value;if(!t.hasOwnProperty(y)){t=void 0;break}t=t[y]}}catch(e){s.e(e)}finally{s.f()}}else t=r.hasOwnProperty(c)?r[c]:r[i]&&r[i].hasOwnProperty(c)?r[i][c]:void 0;a=a.replaceAll("{".concat(c,"}"),t)}}catch(e){l.e(e)}finally{l.f()}return a}function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},U.apply(this,arguments)}function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function B(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach((function(r){W(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function W(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==F(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===F(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function J(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return z(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Z=function(e){var r=e.spec,t=e.tooltip,n=e.width,u=void 0===n?"100%":n,s=e.height,y=void 0===s?500:s,f=e.events,p=void 0===f?[]:f,m=e.description,g=e.overlay,d=e.mapbox_key,b=e.google_maps_key,h=e.setProps,v=(e.lastEvent,J((0,o.useState)({}),2)),L=v[0],S=v[1],w=J((0,o.useState)({}),2),O=w[0],T=w[1],P=J((0,o.useState)(!1),2),C=(P[0],P[1],J((0,o.useState)(!1),2)),_=(C[0],C[1],(0,o.useContext)(E)),j=J((0,o.useState)(null),2),A=j[0],x=j[1],I=[];if(m)for(var D in m)if(["top-right","top-left","bottom-right","bottom-left"].includes(D)){var N=D.split("-");I.push({pos:N,content:m[D]})}var M=(0,o.useCallback)((function(e,r){p.includes(e)&&h({lastEvent:B(B({},r.object),{},{coordinate:r.coordinate,eventType:e})})}),[p]),V={onClick:function(e){return M("click",e)},onHover:function(e){return M("hover",e)},onDragStart:function(e){return M("drag-start",e)},onDrag:function(e){return M("drag",e)},onDragEnd:function(e){return M("drag-end",e)}},F=function(e){return e?e.html||e.text?function(r){if(!r.picked)return null;var t={style:e.style||G};return e.html?t.html=R(e.html,r.object):t.text=R(e.text,r.object),t}:k:null}(t),H=B(B({},V),{},{getTooltip:F});(0,o.useEffect)((function(){!function(){var e,r;e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.2/mapbox-gl.css",(r=document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=e,document.getElementsByTagName("head")[0].appendChild(r)}()}),[]),(0,o.useEffect)((function(){var e=_.convert(r);!A&&e.initialViewState&&x(e.initialViewState),S(B(B({},L),e))}),[r,_]),(0,o.useEffect)((function(){var e=_.convert(g);T(B(B({},O),e))}),[g,_]);var z=(0,o.useCallback)((function(e){var r=e.viewState;x(r)}),[]);return b?a().createElement("div",null,"Google map overlays not supported"):a().createElement("div",{className:"deckgl-map",style:{height:y,width:u,position:"relative"}},a().createElement("div",{id:"deckgl-primary",style:{width:"100%",height:"100%",position:"relative"}},A&&a().createElement(i.Z,U({viewState:A,onViewStateChange:z},H,L),a().createElement(c.D5,{mapStyle:L.mapStyle||l.Z.POSITRON,mapboxAccessToken:d}))),g&&a().createElement("div",{id:"deckgl-overlay",style:{width:"100%",height:"100%",position:"relative",pointerEvents:"none"}},a().createElement(i.Z,U({viewState:A,contoller:!1},H,O,{style:B(B({},O.style),{},{zIndex:1,pointerEvents:"none"})}),a().createElement(c.D5,{mapStyle:O.mapStyle,mapboxAccessToken:d}))),I.map((function(e,r){var t;return a().createElement("div",{key:r,className:"description",style:(t={position:"absolute",zIndex:10},W(t,e.pos[0],10),W(t,e.pos[1],10),t),dangerouslySetInnerHTML:{__html:e.content}})})))};const q=function(e){return a().createElement(_,{customLibraries:e.customLibraries,configuration:e.configuration},a().createElement(Z,e))}}}]);
//# sourceMappingURL=deckgl.js.map