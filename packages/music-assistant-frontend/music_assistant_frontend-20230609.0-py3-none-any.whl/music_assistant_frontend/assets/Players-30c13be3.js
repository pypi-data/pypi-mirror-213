import{l as I,I as M,r as z,O as n,a7 as A,b as F,w as R,a2 as T,q as s,v as p,x as a,j as l,y as b,z as O,F as U,Q as j,L as u,N as m,A as r,_ as g,$ as k,M as v}from"./index-11e01e27.js";import{L as _,_ as q,V as P,B as C}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-0ce5ab95.js";import{V as B,a as G}from"./VMenu-6f4b0d2a.js";import{c as Q}from"./VCard-4c75536f.js";import{V as S}from"./VContainer-b3bc5698.js";import{V as h}from"./VBtn-ba18d485.js";import"./index-688be463.js";/* empty css              */const Y={class:"line-clamp-1"},x={class:"line-clamp-1"},H={class:"list-actions"},J={key:0},K={key:1},ie=I({__name:"Players",setup(W){const L=M(),d=z([]);console.log(d);const N=n.subscribe_multi([A.PLAYER_CONFIG_UPDATED],()=>{$()});F(N);const $=async function(){d.value=await n.getPlayerConfigs()},w=function(e){n.removePlayerConfig(e),d.value=d.value.filter(c=>c.player_id!=e)},y=function(e){e in n.players&&L.push(`/settings/editplayer/${e}`)},D=function(e){e.enabled=!e.enabled,n.savePlayerConfig(e.player_id,{enabled:e.enabled})},f=function(e){var c;return e.name||((c=n.players[e.player_id])==null?void 0:c.display_name)||e.default_name||e.player_id};return R(()=>n.players,e=>{e&&$()},{immediate:!0}),(e,c)=>{const E=T("hold");return s(),p(S,null,{default:a(()=>[l(Q,null,{default:a(()=>[l(B,null,{default:a(()=>[(s(!0),b(U,null,O(d.value.sort((t,o)=>f(t).localeCompare(f(o))),t=>j((s(),p(_,{link:"",onClick:o=>y(t.player_id),key:t.player_id},{prepend:a(()=>[l(q,{domain:t.provider,size:"40px",class:"listitem-media-thumb",style:{"margin-left":"10px"}},null,8,["domain"])]),title:a(()=>[u("div",Y,m(f(t)),1)]),subtitle:a(()=>{var o;return[u("div",x,m(((o=r(n).providers[t.provider])==null?void 0:o.name)||t.provider),1)]}),append:a(()=>{var o;return[u("div",H,[t.enabled?(o=r(n).players[t.player_id])!=null&&o.available?v("",!0):(s(),b("div",K,[l(P,{location:"bottom"},{activator:a(({props:i})=>[l(C,g(k(i)),{default:a(()=>[l(h,{icon:"mdi-timer-sand"})]),_:2},1040)]),default:a(()=>[u("span",null,m(e.$t("settings.player_not_available")),1)]),_:1})])):(s(),b("div",J,[l(P,{location:"bottom"},{activator:a(({props:i})=>[l(C,g(k(i)),{default:a(()=>[l(h,{icon:"mdi-cancel"})]),_:2},1040)]),default:a(()=>[u("span",null,m(e.$t("settings.player_disabled")),1)]),_:1})]))]),l(G,{location:"bottom end"},{activator:a(({props:i})=>[l(C,g(k(i)),{default:a(()=>[l(h,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:a(()=>[l(B,null,{default:a(()=>{var i;return[t.enabled&&t.player_id in r(n).players?(s(),p(_,{key:0,title:e.$t("settings.configure"),"prepend-icon":"mdi-cog",onClick:V=>y(t.player_id)},null,8,["title","onClick"])):v("",!0),l(_,{title:t.enabled?e.$t("settings.disable"):e.$t("settings.enable"),"prepend-icon":"mdi-cog",onClick:V=>D(t)},null,8,["title","onClick"]),r(n).providerManifests[t.provider].documentation?(s(),p(_,{key:1,title:e.$t("settings.documentation"),"prepend-icon":"mdi-bookshelf",href:r(n).providerManifests[t.provider].documentation,target:"_blank"},null,8,["title","href"])):v("",!0),(i=r(n).players[t.player_id])!=null&&i.available?v("",!0):(s(),p(_,{key:2,title:e.$t("settings.delete"),"prepend-icon":"mdi-delete",onClick:V=>w(t.player_id)},null,8,["title","onClick"]))]}),_:2},1024)]),_:2},1024)]}),_:2},1032,["onClick"])),[[E,()=>{y(t.player_id)}]])),128))]),_:1})]),_:1})]),_:1})}}});export{ie as default};
