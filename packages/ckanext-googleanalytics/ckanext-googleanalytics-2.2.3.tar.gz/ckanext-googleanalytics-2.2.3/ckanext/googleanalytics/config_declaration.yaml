version: 1
groups:
  - annotation: GoogleAnalytics settings
    options:
      - key: googleanalytics.id
        required: true
        placeholder: UA-000000000-1
        validators: not_empty
        description: |
          Google tag ID(`G-*`) for Google Analytics 4 properties or the
          Tracking ID(`UA-*`) for Universal Analytics properties.

      - key: googleanalytics.download_handler
        default: ckan.views.resource:download
        description: |
          Import path of the CKAN view that handles resource downloads. It can
          be used in combination with plugins that replace download
          view(`ckanext-cloudstorage`, `ckanext-s3filestore`).

      - key: googleanalytics.tracking_mode
        experimental: true
        example: gtag
        description: |
          Defines the type of code snippet embedded into the page. Can be set
          to either `ga`(enables `googleanalytics.js`) or `gtag`(enables
          `gtag.js`). The plugin will check `googleanalytics.id` and set
          appropriate value depending on the prefix: `G-` enables `gtag`, while
          `UA-` enables `ga` mode.

          Use this option only if you know better which snippet you need. In
          future, after dropping UniversalAnalytics, this option will be
          removed.

      - key: googleanalytics.account

      - key: googleanalytics.profile_id

      - key: googleanalytics.domain
        default: auto

      - key: googleanalytics.credentials.path

      - key: googleanalytics.fields
        default: "{}"

      - key: googleanalytics.linked_domains
        default: ""

      - key: googleanalytics.enable_user_id
        type: bool

      - key: googleanalytics_resource_prefix
        default: "/downloads/"

      - key: googleanalytics.recent_view_days
        default: 14
